 AS V1.42 Beta [Bld 223] - Source File main.asm - Page 1 - 9/5/2022 1:43:34


       1/    F000 :                         ORG     $F000
       2/    F000 :                     
       3/    F000 :                         include "uart.asm"
(1)    1/    F000 :                         CPU     6502
(1)    2/    F000 :                     
(1)    3/    F000 : =$200                PIA_BASE    EQU     $0200
(1)    4/    F000 : =$200                PIA_PORTB   EQU     PIA_BASE + $0
(1)    5/    F000 : =$201                PIA_PORTA   EQU     PIA_BASE + $1
(1)    6/    F000 : =$202                PIA_DDRB    EQU     PIA_BASE + $2
(1)    7/    F000 : =$203                PIA_DDRA    EQU     PIA_BASE + $3
(1)    8/    F000 : =$20B                PIA_ACR     EQU     PIA_BASE + $B
(1)    9/    F000 : =$20C                PIA_PCR     EQU     PIA_BASE + $C
(1)   10/    F000 :                         
(1)   11/    F000 : =$0                  PIA_IN      EQU     $00
(1)   12/    F000 : =$FF                 PIA_OUT     EQU     $FF
(1)   13/    F000 :                     
(1)   14/    F000 : =$1                  FT240_WRMSK EQU     $01     ; WR on bit-0, pulse high to write to the FIFO
(1)   15/    F000 : =$20                 FT240_SIWU  EQU     $20     ; SIWU on bit 5, always high
(1)   16/    F000 : =$E                  FT240_NOSTB EQU     $0E     ; RD# = 1, irqs disabled 
(1)   17/    F000 : =$C                  FT240_RDSTB EQU     $0C     ; RD# = 0, irqs disabled (used to read from the FIFO)
(1)   18/    F000 : =$40                 FT240_TXE   EQU     $40     ; TXE# on bit 6 (FIFO can accept data when low)
(1)   19/    F000 : =$80                 FT240_RXF   EQU     $80     ; RXF# on bit 7 (FIFO has data when low)
(1)   20/    F000 :                     
(1)   21/    F000 :                     ; Initialize the VIA to operate iwth the FT240, which is use for console IO.
(1)   22/    F000 :                     FT240_init:
(1)   23/    F000 : A9 0E                   lda     #FT240_NOSTB    ; RD# = 1
(1)   24/    F002 : 8D 0C 02                sta     PIA_PCR
(1)   25/    F005 : AD 00 02                lda     PIA_PORTB
(1)   26/    F008 : 29 FE                   and     #~FT240_WRMSK   ; WR = 0, don't touch the other bits
(1)   27/    F00A : 09 20                   ora     #FT240_SIWU     ; SIWU = 1, dont' tough the other bits
(1)   28/    F00C : 8D 00 02                sta     PIA_PORTB
(1)   29/    F00F : A9 00                   lda     #PIA_IN         ; data port input, its only output when writing to FT240
(1)   30/    F011 : 8D 03 02                sta     PIA_DDRA
(1)   31/    F014 : AD 02 02                lda     PIA_DDRB        ; control ports bits for FT240, don't touch other bits
(1)   32/    F017 : 09 21                   ora     #(FT240_WRMSK | FT240_SIWU) & $FF   ; Ouptut pins
(1)   33/    F019 : 29 3F                   and     #(~(FT240_RXF | FT240_TXE)) & $FF   ; Input pins
(1)   34/    F01B : 8D 02 02                sta     PIA_DDRB
(1)   35/    F01E :                     
(1)   36/    F01E :                     FT240_Flush:
(1)   37/    F01E : 2C 00 02                bit     PIA_PORTB       ; Test RXF# (bit-7)
(1)   38/    F021 : 30 0E                   bmi     $$NoChar        ; Branch when RXF# is set, no data in FIFO
(1)   39/    F023 : A9 0C                   lda     #FT240_RDSTB    ; FT240 RD# = 0; strobe next byte from FIFO
(1)   40/    F025 : 8D 0C 02                sta     PIA_PCR
(1)   41/    F028 : EA                      nop
(1)   42/    F029 : A9 0E                   lda     #FT240_NOSTB    ; FT240 RD# = 1
(1)   43/    F02B : 8D 0C 02                sta     PIA_PCR
(1)   44/    F02E : 4C 1E F0                jmp     FT240_Flush
(1)   45/    F031 :                     $$NoChar:
(1)   46/    F031 : 60                      rts
(1)   47/    F032 :                     
(1)   48/    F032 :                     ; Output the value in the acc to the console    
(1)   49/    F032 :                     PutChar:
(1)   50/    F032 : 2C 00 02                bit     PIA_PORTB       ; Test TXE (bit-6)
(1)   51/    F035 : 70 FB                   bvs     PutChar         ; When set the FIFO is full, keep polling until there is room
(1)   52/    F037 : 8D 01 02                sta     PIA_PORTA       ; Write data to port
(1)   53/    F03A : A9 FF                   lda     #PIA_OUT        ; Set data port direction to output
(1)   54/    F03C : 8D 03 02                sta     PIA_DDRA
(1)   55/    F03F : AD 00 02                lda     PIA_PORTB       ; FT240 WR = 1 (don't touch other bits)
(1)   56/    F042 : 09 01                   ora     #FT240_WRMSK
(1)   57/    F044 : 8D 00 02                sta     PIA_PORTB
 AS V1.42 Beta [Bld 223] - Source File main.asm(uart.asm) - Page 2 - 9/5/2022 1:43:34


(1)   58/    F047 : 29 FE                   and     #~FT240_WRMSK   ; FT240 WR = 0
(1)   59/    F049 : 8D 00 02                sta     PIA_PORTB
(1)   60/    F04C : A9 00                   lda     #PIA_IN         ; Set data port direction to input
(1)   61/    F04E : 8D 03 02                sta     PIA_DDRA
(1)   62/    F051 : 60                      rts
(1)   63/    F052 :                     
(1)   64/    F052 :                     ; Read a character from the console in the acc, C == 1 indicates a character was read
(1)   65/    F052 :                     GetChar:
(1)   66/    F052 : 2C 00 02                bit     PIA_PORTB       ; Test RXF# (bit-7)
(1)   67/    F055 : 30 0F                   bmi     $$NoChar          ; Branch when RXF# is set, no data in FIFO
(1)   68/    F057 : A2 0C                   ldx     #FT240_RDSTB    ; FT240 RD# = 0; strobe next byte from FIFO
(1)   69/    F059 : 8E 0C 02                stx     PIA_PCR
(1)   70/    F05C : AD 01 02                lda     PIA_PORTA       ; Read data byte from FT240 (assumes DDR in input)
(1)   71/    F05F : A2 0E                   ldx     #FT240_NOSTB    ; FT240 RD# = 1
(1)   72/    F061 : 8E 0C 02                stx     PIA_PCR
(1)   73/    F064 : 38                      sec                     ; Set carry to indicate we read a data byte
(1)   74/    F065 : 60                      rts
(1)   75/    F066 :                     $$NoChar:
(1)   76/    F066 : 18                      clc                     ; Clear carry to indicate there was nothing to read
(1)   77/    F067 : 60                      rts
       4/    F068 :                         include "LED.asm"
(1)    1/    F068 :                         CPU     6502
(1)    2/    F068 :                         
(1)    3/    F068 :                     ; PIA already defined in uart.asm
(1)    4/    F068 :                     
(1)    5/    F068 : =$4                  LED_RED     EQU     $04
(1)    6/    F068 : =$8                  LED_GREEN   EQU     $08
(1)    7/    F068 : =$2                  LED_BLUE    EQU     $02
(1)    8/    F068 :                     
(1)    9/    F068 :                     LED_init:
(1)   10/    F068 : AD 00 02                lda     PIA_PORTB
(1)   11/    F06B : 29 F1                   and     #(~(LED_RED | LED_GREEN | LED_BLUE)) & 255
(1)   12/    F06D : 8D 00 02                sta     PIA_PORTB
(1)   13/    F070 : AD 02 02                lda     PIA_DDRB
(1)   14/    F073 : 09 0E                   ora     #(LED_RED | LED_GREEN | LED_BLUE) & 255
(1)   15/    F075 : 8D 02 02                sta     PIA_DDRB
(1)   16/    F078 : 60                      rts
(1)   17/    F079 :                     
(1)   18/    F079 :                     LED_RedOn:
(1)   19/    F079 : 48                      pha
(1)   20/    F07A : AD 00 02                lda     PIA_PORTB
(1)   21/    F07D : 09 04                   ora     #LED_RED
(1)   22/    F07F : 8D 00 02                sta     PIA_PORTB
(1)   23/    F082 : 68                      pla
(1)   24/    F083 : 60                      rts
(1)   25/    F084 :                     
(1)   26/    F084 :                     LED_RedOff:
(1)   27/    F084 : 48                      pha
(1)   28/    F085 : AD 00 02                lda     PIA_PORTB
(1)   29/    F088 : 29 FB                   and     #(~LED_RED) & 255
(1)   30/    F08A : 8D 00 02                sta     PIA_PORTB
(1)   31/    F08D : 68                      pla
(1)   32/    F08E : 60                      rts
(1)   33/    F08F :                         
(1)   34/    F08F :                     LED_RedToggle:
(1)   35/    F08F : 48                      pha
(1)   36/    F090 : AD 00 02                lda     PIA_PORTB
(1)   37/    F093 : 49 04                   eor     #LED_RED
(1)   38/    F095 : 8D 00 02                sta     PIA_PORTB
(1)   39/    F098 : 68                      pla
 AS V1.42 Beta [Bld 223] - Source File main.asm(LED.asm) - Page 3 - 9/5/2022 1:43:34


(1)   40/    F099 : 60                      rts
(1)   41/    F09A :                         
(1)   42/    F09A :                     
       5/    F09A :                         include "mon.asm"    
(1)    1/    F09A :                         CPU     6502
(1)    2/    F09A :                     
(1)    3/    F09A :                     ; Simple monitor:
(1)    4/    F09A :                     ; Prompt messsage is:
(1)    5/    F09A :                     ; 
(1)    6/    F09A :                     ; aaaa bb>
(1)    7/    F09A :                     ; 
(1)    8/    F09A :                     ; Where aaaa is the current addess and bb is the current value at that address.
(1)    9/    F09A :                     ;
(1)   10/    F09A :                     ; Commands:
(1)   11/    F09A :                     ; ?     Show the info message
(1)   12/    F09A :                     ; =     Re-read the current address
(1)   13/    F09A :                     ; <lf>  Write to current address and increment address
(1)   14/    F09A :                     ; +     Increment current address
(1)   15/    F09A :                     ; -     Decrement current address
(1)   16/    F09A :                     ; g     Go to current address
(1)   17/    F09A :                     ; <sp>  Set current address   
(1)   18/    F09A :                     
(1)   19/    F09A :                     ; Zero page address
(1)   20/    F09A : =$0                  addrL       EQU     $00
(1)   21/    F09A : =$1                  addrH       EQU     $01
(1)   22/    F09A : =$2                  userL       EQU     $02
(1)   23/    F09A : =$3                  userH       EQU     $03
(1)   24/    F09A :                     
(1)   25/    F09A :                     reset:
(1)   26/    F09A : D8                      cld                     ; Make sure we are NOT is decimal mode
(1)   27/    F09B : A2 FF                   ldx     #$FF
(1)   28/    F09D : 9A                      txs
(1)   29/    F09E : 20 00 F0                jsr     FT240_init
(1)   30/    F0A1 : 20 68 F0                jsr     LED_init
(1)   31/    F0A4 :                     
(1)   32/    F0A4 :                     InitMon:
(1)   33/    F0A4 : A9 00                   lda     #$00            ; Clear monitor state
(1)   34/    F0A6 : 85 00                   sta     addrL           
(1)   35/    F0A8 : 85 01                   sta     addrH
(1)   36/    F0AA : 85 02                   sta     userL
(1)   37/    F0AC : 85 03                   sta     userH
(1)   38/    F0AE :                         
(1)   39/    F0AE :                     InfoCmd:
(1)   40/    F0AE : A2 00                   ldx     #$00
(1)   41/    F0B0 :                     $$loop
(1)   42/    F0B0 : BD 8C F1                lda     InfoStr,x
(1)   43/    F0B3 : F0 07                   beq     Prompt     
(1)   44/    F0B5 : 20 32 F0                jsr     PutChar
(1)   45/    F0B8 : E8                      inx
(1)   46/    F0B9 : 4C B0 F0                jmp     $$loop
(1)   47/    F0BC :                     
(1)   48/    F0BC :                     Prompt:
(1)   49/    F0BC : 20 84 F0                jsr     LED_RedOff
(1)   50/    F0BF : A9 0A                   lda     #$0a            ; Show Prompt
(1)   51/    F0C1 : 20 32 F0                jsr     PutChar
(1)   52/    F0C4 : A5 01                   lda     addrH           ; Show high address
(1)   53/    F0C6 : 20 66 F1                jsr     PutHex
(1)   54/    F0C9 : A5 00                   lda     addrL           ; Show low address
(1)   55/    F0CB : 20 66 F1                jsr     PutHex
(1)   56/    F0CE : A9 20                   lda     #' '            ; Space to seperate address and data
 AS V1.42 Beta [Bld 223] - Source File main.asm(mon.asm) - Page 4 - 9/5/2022 1:43:34


(1)   57/    F0D0 : 20 32 F0                jsr     PutChar
(1)   58/    F0D3 : A0 00                   ldy     #$00
(1)   59/    F0D5 : B1 00                   lda     (addrL),y       ; Show data at address
(1)   60/    F0D7 : 20 66 F1                jsr     PutHex
(1)   61/    F0DA : A9 3E                   lda     #'>'            ; Show Prompt
(1)   62/    F0DC : 20 32 F0                jsr     PutChar
(1)   63/    F0DF :                      NextChar:   
(1)   64/    F0DF : 20 52 F0                jsr     GetChar         ; get char from user
(1)   65/    F0E2 : 90 FB                   bcc     NextChar        ; Got a char? Keep polling until we get a char
(1)   66/    F0E4 : 20 79 F0                jsr     LED_RedOn
(1)   67/    F0E7 : AA                      tax
(1)   68/    F0E8 : 20 32 F0                jsr     PutChar         ; Should we echo the character?????
(1)   69/    F0EB : 8A                      txa
(1)   70/    F0EC : C9 3F                   cmp     #'?'            ; Show info?
(1)   71/    F0EE : F0 BE                   beq     InfoCmd
(1)   72/    F0F0 : C9 3D                   cmp     #'='            ; re-read address?
(1)   73/    F0F2 : F0 C8                   beq     Prompt
(1)   74/    F0F4 : C9 0A                   cmp     #$0a            ; Write data byte?
(1)   75/    F0F6 : D0 09                   bne     NotWrite
(1)   76/    F0F8 : A5 02                   lda     userL           ; Get the last 8-bit value entered
(1)   77/    F0FA : A0 00                   ldy     #$00
(1)   78/    F0FC : 91 00                   sta     (addrL),y       ; Store at the current address
(1)   79/    F0FE : 4C 05 F1                jmp     DoInc           ; Increment the current address
(1)   80/    F101 :                     
(1)   81/    F101 :                     NotWrite:
(1)   82/    F101 : C9 2B                   cmp     #'+'            ; Incement address?
(1)   83/    F103 : D0 09                   bne     NotInc
(1)   84/    F105 :                     DoInc:
(1)   85/    F105 : E6 00                   inc     addrL           ; TODO test this logic: 03FF -> 0400 -> 0401; FFFF -> 0000
(1)   86/    F107 : D0 B3                   bne     Prompt
(1)   87/    F109 : E6 01                   inc     addrH
(1)   88/    F10B : 4C BC F0                jmp     Prompt
(1)   89/    F10E :                     
(1)   90/    F10E :                     NotInc:
(1)   91/    F10E : C9 2D                   cmp     #'-'            ; Decrement address?
(1)   92/    F110 : D0 0B                   bne     NotDec
(1)   93/    F112 : A5 00                   lda     addrL
(1)   94/    F114 : D0 02                   bne     $$NoMSB
(1)   95/    F116 : C6 01                   dec     addrH
(1)   96/    F118 :                     $$NoMSB:
(1)   97/    F118 : C6 00                   dec     addrL
(1)   98/    F11A : 4C BC F0                jmp     Prompt
(1)   99/    F11D :                     
(1)  100/    F11D :                     NotDec:
(1)  101/    F11D : C9 67                   cmp     #'g'            ; go to address?
(1)  102/    F11F : D0 09                   bne     NotGo
(1)  103/    F121 : A9 F0                   lda     #(reset-1)>>8   ; push the return address onto the stack
(1)  104/    F123 : 48                      pha
(1)  105/    F124 : A9 99                   lda     #(reset-1)&$FF
(1)  106/    F126 : 48                      pha
(1)  107/    F127 : 6C 00 00                jmp     (addrL)
(1)  108/    F12A :                     
(1)  109/    F12A :                     NotGo:
(1)  110/    F12A : C9 20                   cmp     #' '            ; set current address?
(1)  111/    F12C : D0 11                   bne     NotAddr
(1)  112/    F12E : A5 02                   lda     userL           ; move the user value to the current address
(1)  113/    F130 : 85 00                   sta     addrL
(1)  114/    F132 : A5 03                   lda     userH
(1)  115/    F134 : 85 01                   sta     addrH
(1)  116/    F136 : A9 00                   lda     #$00            ; clear user value
 AS V1.42 Beta [Bld 223] - Source File main.asm(mon.asm) - Page 5 - 9/5/2022 1:43:34


(1)  117/    F138 : 85 02                   sta     userL
(1)  118/    F13A : 85 03                   sta     userH
(1)  119/    F13C : 4C BC F0                jmp     Prompt          ; Continue with the new address 
(1)  120/    F13F :                     
(1)  121/    F13F :                     NotAddr:
(1)  122/    F13F :                     ParseHex:
(1)  123/    F13F :                         ; Process hex digit [0..9][A..F][a..f]
(1)  124/    F13F : 09 20                   ora     #$20            ; Force to lower
(1)  125/    F141 : A2 0F                   ldx     #$0F            ; initialize index
(1)  126/    F143 :                     ParseLoop:
(1)  127/    F143 : DD 7C F1                cmp     HexChars,x      ; Is it this digit?
(1)  128/    F146 : F0 06                   beq     GotHex          ; Yes, process the nibble value
(1)  129/    F148 : CA                      dex                     ; No, advance index
(1)  130/    F149 : 10 F8                   bpl     ParseLoop       ; Keep checking until index underflows
(1)  131/    F14B : 4C BC F0                jmp     Prompt          ; Index underflowed, not a hex digit- abort
(1)  132/    F14E :                     GotHex:
(1)  133/    F14E : 06 02                   asl     userL           ; Shift the user value to the left by 4 bits
(1)  134/    F150 : 26 03                   rol     userH
(1)  135/    F152 : 06 02                   asl     userL
(1)  136/    F154 : 26 03                   rol     userH
(1)  137/    F156 : 06 02                   asl     userL
(1)  138/    F158 : 26 03                   rol     userH
(1)  139/    F15A : 06 02                   asl     userL
(1)  140/    F15C : 26 03                   rol     userH
(1)  141/    F15E : 8A                      txa                     ; Get the nibble value
(1)  142/    F15F : 05 02                   ora     userL           ; Insert the nibble into the user value
(1)  143/    F161 : 85 02                   sta     userL
(1)  144/    F163 : 4C DF F0                jmp     NextChar        ; Done, get next char    
(1)  145/    F166 :                         
(1)  146/    F166 :                     ; Output the value in acc to the console as two hex bytes
(1)  147/    F166 :                     PutHex:
(1)  148/    F166 : A8                      tay                         ; save value
(1)  149/    F167 : 4A                      lsr                         ; move high nibble to low
(1)  150/    F168 : 4A                      lsr
(1)  151/    F169 : 4A                      lsr
(1)  152/    F16A : 4A                      lsr
(1)  153/    F16B : AA                      tax
(1)  154/    F16C : BD 7C F1                lda     HexChars,X          ; lookup hex digit 
(1)  155/    F16F : 20 32 F0                jsr     PutChar
(1)  156/    F172 : 98                      tya                         ; get value back
(1)  157/    F173 : 29 0F                   and     #$0f                ; mask high nibble away
(1)  158/    F175 : AA                      tax
(1)  159/    F176 : BD 7C F1                lda     HexChars,X          ; lookup hex digit 
(1)  160/    F179 : 4C 32 F0                jmp     PutChar
(1)  161/    F17C :                     
(1)  162/    F17C :                     HexChars:
(1)  163/    F17C : 30 31 32 33 34 35       FCB     "0123456789abcdef"
             F182 : 36 37 38 39 61 62 
             F188 : 63 64 65 66       
(1)  164/    F18C :                         
(1)  165/    F18C :                     InfoStr:
(1)  166/    F18C : 0A 4D 69 6E 69 4D       FCB     10,"MiniMon,0.1,6502,0",10,0
             F192 : 6F 6E 2C 30 2E 31 
             F198 : 2C 36 35 30 32 2C 
             F19E : 30 0A 00          
(1)  167/    F1A1 :                        
(1)  168/    F1A1 :                     nmi:
(1)  169/    F1A1 : 4C A1 F1                jmp     nmi
(1)  170/    F1A4 :                     
(1)  171/    F1A4 :                     irqBrk:
 AS V1.42 Beta [Bld 223] - Source File main.asm(mon.asm) - Page 6 - 9/5/2022 1:43:34


(1)  172/    F1A4 : 4C A4 F1                jmp     irqBrk
(1)  173/    F1A7 :                     
(1)  174/    F1A7 :                         
       6/    F1A7 :                         include "vec.asm"
(1)    1/    F1A7 :                         CPU     6502
(1)    2/    F1A7 :                     
(1)    3/    F1A7 :                     ; Vector table
(1)    4/    FFFA :                         ORG    $FFFA
(1)    5/    FFFA : A1 F1                   ADR     nmi
(1)    6/    FFFC : 9A F0                   ADR     reset
(1)    7/    FFFE : A4 F1                   ADR     irqBrk
(1)    8/   10000 :                     
       7/   10000 :                     
 AS V1.42 Beta [Bld 223] - Source File main.asm - Page 7 - 9/5/2022 1:43:34


  Symbol Table (* = unused):
  --------------------------

 ADDRH :                          1 - |  ADDRL :                          0 - |
*ARCHITECTURE :                                        "i386-unknown-win32" - |
*CASESENSITIVE :                  0 - | *COMPMODE :                       0 - |
*CONSTPI :        3.141592653589793 - | *DATE :                  "9/5/2022" - |
 DOINC :                       F105 C | *FALSE :                          0 - |
 FT240_FLUSH :                 F01E C |  FT240_INIT :                  F000 C |
 FT240_NOSTB :                    E - |  FT240_RDSTB :                    C - |
 FT240_RXF :                     80 - |  FT240_SIWU :                    20 - |
 FT240_TXE :                     40 - |  FT240_WRMSK :                    1 - |
*FULLPMMU :                       1 - |  GETCHAR :                     F052 C |
 GOTHEX :                      F14E C | *HAS64 :                          0 - |
*HASFPU :                         0 - | *HASPMMU :                        0 - |
 HEXCHARS :                    F17C C |  INFOCMD :                     F0AE C |
 INFOSTR :                     F18C C | *INITMON :                     F0A4 C |
*INSUPMODE :                      0 - |  IRQBRK :                      F1A4 C |
 LED_BLUE :                       2 - |  LED_GREEN :                      8 - |
 LED_INIT :                    F068 C |  LED_RED :                        4 - |
 LED_REDOFF :                  F084 C |  LED_REDON :                   F079 C |
*LED_REDTOGGLE :               F08F C | *LISTON :                         1 - |
 LOOP39 :                      F0B0 C | *MACEXP :                         7 - |
*MOMCPU :                      6502 - | *MOMCPUNAME :                "6502" - |
*NESTMAX :                      100 - |  NEXTCHAR :                    F0DF C |
 NMI :                         F1A1 C |  NOCHAR19 :                    F031 C |
 NOCHAR21 :                    F066 C |  NOMSB44 :                     F118 C |
 NOTADDR :                     F13F C |  NOTDEC :                      F11D C |
 NOTGO :                       F12A C |  NOTINC :                      F10E C |
 NOTWRITE :                    F101 C | *PADDING :                        1 - |
*PARSEHEX :                    F13F C |  PARSELOOP :                   F143 C |
*PIA_ACR :                      20B - |  PIA_BASE :                     200 - |
 PIA_DDRA :                     203 - |  PIA_DDRB :                     202 - |
 PIA_IN :                         0 - |  PIA_OUT :                       FF - |
 PIA_PCR :                      20C - |  PIA_PORTA :                    201 - |
 PIA_PORTB :                    200 - |  PROMPT :                      F0BC C |
 PUTCHAR :                     F032 C |  PUTHEX :                      F166 C |
*RELAXED :                        0 - |  RESET :                       F09A C |
*TIME :                   "1:43:34" - | *TRUE :                           1 - |
 USERH :                          3 - |  USERL :                          2 - |
*VERSION :                     142F - |

     74 symbols
     25 unused symbols

 AS V1.42 Beta [Bld 223] - Source File main.asm - Page 8 - 9/5/2022 1:43:34


  Code Pages:
  ----------

STANDARD (0 changed characters)

1 code page
 AS V1.42 Beta [Bld 223] - Source File main.asm - Page 9 - 9/5/2022 1:43:34



  Cross Reference List:
  ---------------------

symbol ADDRH (=1, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:21):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     35       52       87       95      115    

symbol ADDRL (=0, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:20):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     34       54       59       78       85       93       97      107    
    113    

symbol DOINC (=F105, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:84):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     79    

symbol FT240_FLUSH (=F01E, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:36):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     44    

symbol FT240_INIT (=F000, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:22):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     29    

symbol FT240_NOSTB (=E, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:16):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     23       42       71    

symbol FT240_RDSTB (=C, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:17):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     39       68    

symbol FT240_RXF (=80, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:19):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     33    

symbol FT240_SIWU (=20, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:15):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     27       32    

symbol FT240_TXE (=40, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:18):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     33    

symbol FT240_WRMSK (=1, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:14):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     26       32       56       58    

symbol GETCHAR (=F052, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:65):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     64    

symbol GOTHEX (=F14E, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:132):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
    128    

symbol HEXCHARS (=F17C, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:162):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
    127      154      159    
 AS V1.42 Beta [Bld 223] - Source File main.asm - Page 10 - 9/5/2022 1:43:34



symbol INFOCMD (=F0AE, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:39):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     71    

symbol INFOSTR (=F18C, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:165):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     42    

symbol IRQBRK (=F1A4, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:171):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
    172    
 file Z:\prj\projects\homebrew\software\mon\6502\vec.asm :
      7    

symbol LED_BLUE (=2, Z:\prj\projects\homebrew\software\mon\6502\LED.asm:7):
 file Z:\prj\projects\homebrew\software\mon\6502\LED.asm :
     11       14    

symbol LED_GREEN (=8, Z:\prj\projects\homebrew\software\mon\6502\LED.asm:6):
 file Z:\prj\projects\homebrew\software\mon\6502\LED.asm :
     11       14    

symbol LED_INIT (=F068, Z:\prj\projects\homebrew\software\mon\6502\LED.asm:9):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     30    

symbol LED_RED (=4, Z:\prj\projects\homebrew\software\mon\6502\LED.asm:5):
 file Z:\prj\projects\homebrew\software\mon\6502\LED.asm :
     11       14       21       29       37    

symbol LED_REDOFF (=F084, Z:\prj\projects\homebrew\software\mon\6502\LED.asm:26):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     49    

symbol LED_REDON (=F079, Z:\prj\projects\homebrew\software\mon\6502\LED.asm:18):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     66    

symbol LOOP39 (=F0B0, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:41):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     46    

symbol NEXTCHAR (=F0DF, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:63):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     65      144    

symbol NMI (=F1A1, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:168):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
    169    
 file Z:\prj\projects\homebrew\software\mon\6502\vec.asm :
      5    

symbol NOCHAR19 (=F031, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:45):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     38    

symbol NOCHAR21 (=F066, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:75):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     67    
 AS V1.42 Beta [Bld 223] - Source File main.asm - Page 11 - 9/5/2022 1:43:34



symbol NOMSB44 (=F118, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:96):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     94    

symbol NOTADDR (=F13F, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:121):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
    111    

symbol NOTDEC (=F11D, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:100):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     92    

symbol NOTGO (=F12A, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:109):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
    102    

symbol NOTINC (=F10E, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:90):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     83    

symbol NOTWRITE (=F101, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:81):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     75    

symbol PARSELOOP (=F143, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:126):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
    130    

symbol PIA_BASE (=200, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:3):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
      4        5        6        7        8        9    

symbol PIA_DDRA (=203, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:7):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     30       54       61    

symbol PIA_DDRB (=202, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:6):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     31       34    
 file Z:\prj\projects\homebrew\software\mon\6502\LED.asm :
     13       15    

symbol PIA_IN (=0, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:11):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     29       60    

symbol PIA_OUT (=FF, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:12):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     53    

symbol PIA_PCR (=20C, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:9):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     24       40       43       69       72    

symbol PIA_PORTA (=201, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:5):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     52       70    

symbol PIA_PORTB (=200, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:4):
 AS V1.42 Beta [Bld 223] - Source File main.asm - Page 12 - 9/5/2022 1:43:34


 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     25       28       37       50       55       57       59       66    
 file Z:\prj\projects\homebrew\software\mon\6502\LED.asm :
     10       12       20       22       28       30       36       38    

symbol PROMPT (=F0BC, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:48):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     43       73       86       88       98      119      131    

symbol PUTCHAR (=F032, Z:\prj\projects\homebrew\software\mon\6502\uart.asm:49):
 file Z:\prj\projects\homebrew\software\mon\6502\uart.asm :
     51    
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     44       51       57       62       68      155      160    

symbol PUTHEX (=F166, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:147):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     53       55       60    

symbol RESET (=F09A, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:25):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
    103      105    
 file Z:\prj\projects\homebrew\software\mon\6502\vec.asm :
      6    

symbol USERH (=3, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:23):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     37      114      118      134      136      138      140    

symbol USERL (=2, Z:\prj\projects\homebrew\software\mon\6502\mon.asm:22):
 file Z:\prj\projects\homebrew\software\mon\6502\mon.asm :
     36       76      112      117      133      135      137      139    
    142      143    



0.03 seconds assembly time

    308 lines source file
      2 passes
      0 errors
      0 warnings
